---
title: 老生常谈-css非绝对定位下的居中 
date: 2017/6/28
categories: css
tags:
     - css
     - html    
     - 老生常谈
     - 最佳实践
---

在实际编写页面的时候，居中问题无疑是遇到最多也是最重要的之一。无论那个网页为了美观都是有大量完全居中（水平+垂直）居中的元素存在的。那么如何最好实现居中呢，下面我们来整理下。

# 水平居中
元素的完全居中需要通过两个步骤才能实现完全居中，那就是水平和垂直居中。下面我们就分别来讨论一下对应不同的属性的元素我们如果为他们实现水平和垂直居中，先来看看水平居中。
## 内联块级元素水平居中（inline-block)
如果需要实现内联块级元素居中的话其实是最简单的一种情况。因为内联的块级元素会收到父类`text-align`的影响，所以我们只需要这样做：
```css
.father-container {
    text-align: center;
}
```

在给父元素设置了`text-align`之后，子元素中所有的内联块级元素都会完成水平居中。如果是例如`input`和`img`此类默认是`inline-block`的元素，那么不用设置display也可以实现水平居中，如果是例如`a`、`span`此类默认为`inline`显示的元素，则需要通过下面代码来让其实现水平居中。
```css
.child {
    width: 200px;
    display: inline-block; /*也可以设置成`inline`但是内联元素没有宽度，所以不会有任何效果。*/
}
```
当我们完成上面的代码后，child元素在父元素中就可以实现元素的水平对齐了。

这种做法有两个主要的缺点：其一是因为在父元素中写入了`text-align`属性，那么所有的子元素都会被影响。然后是因为`ie6`和`ie7`并不支持`inline-block`，所以在`ie6`和`ie7`可以这样实现这个效果：
```css
.child {
    display: inline-block;
    display: inline;
    width: 200px;
}
```
值得注意的是，通过这种方式实现居中时，不要忘了加上`width`属性，不然的话子元素也会自动扩充满父元素，实现居中也就没有意义了。

## 块级元素水平居中（block）
其实如果是块级元素需要进行居中对齐的话，那么父元素就不需要进行什么额外的操作了，当然前提是父元素和子元素都不是绝对定位的元素，因为绝对定位元素是脱离文档流的，关于绝对定位元素如何实现居中我们下文再讲。在非绝对定位的块级元素中我们只需要通过`margin`这个属性，就可以完成水平的居中对其，例如：
```css
.child {
    margin: 0 auto;
    width: 200px; /* 与上文同理不设置width的话会宽度会自动填满父元素 */
}
```
其实对于块级元素来说水平居中是最为简单的，只需要通过设置左右的`margin`值为`auto`就可以了，但是虽然设置左右的`margin`值为`auto`可以实现水平居中，但是设置上下的`margin: auto 0;`是不能实现垂直居中的。这也是为什么垂直居中在css3比较难实现的原因。
```css
.child {
    margin: auto;  /* 只有水平居中的效果，不会垂直居中 */
}
```
通过这种方式进行水平居中的好处也很明显，通过`margin`不会影响任何子元素或者兄弟元素，只有其自己有效果。而且兼容性也比较好。

